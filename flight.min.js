/*! Flight v1.0.2 | (c) Twitter, Inc. | MIT License */
!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):"object"==typeof exports?exports.flight=n():t.flight=n()}(this,function(){return function(t){function n(o){if(e[o])return e[o].exports;var i=e[o]={exports:{},id:o,loaded:!1};return t[o].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var e={};return n.m=t,n.c=e,n.p="",n(0)}([function(t,n,e){var o,i;o=[e(1),e(2),e(3),e(4),e(5),e(6)],i=function(t,n,e,o,i,r){return{advice:t,component:n,compose:e,logger:o,registry:i,utils:r}}.apply(null,o),!(void 0!==i&&(t.exports=i))},function(t,n,e){var o,i;o=[e(6),e(3)],i=function(t,n){var e={around:function(n,e){return function(){var o=t.toArray(arguments);return e.apply(this,[n.bind(this)].concat(o))}},before:function(n,e){return this.around(n,function(){var n,o=t.toArray(arguments),i=o.shift();return n="function"==typeof e?e:e.obj[e.fnName],n.apply(this,o),i.apply(this,o)})},after:function(n,e){return this.around(n,function(){var n,o=t.toArray(arguments),i=o.shift(),r=(i.unbound||i).apply(this,o);return n="function"==typeof e?e:e.obj[e.fnName],n.apply(this,o),r})},withAdvice:function(){["before","after","around"].forEach(function(t){this[t]=function(o,i){n.unlockProperty(this,o,function(){return this[o]="function"==typeof this[o]?e[t](this[o],i):i})}},this)}};return e}.apply(null,o),!(void 0!==i&&(t.exports=i))},function(t,n,e){var o,i;o=[e(1),e(6),e(3),e(5)],i=function(t,n,e,o){function i(t){t.events.slice().forEach(function(t){var n=[t.type];t.element&&n.unshift(t.element),"function"==typeof t.callback&&n.push(t.callback),this.off.apply(this,n)},t.instance)}function r(){this.trigger("componentTearDown"),i(o.findInstanceInfo(this))}function s(){var t=o.findComponentInfo(this);t&&t.instances.slice().forEach(function(t){t.instance.teardown()})}function a(t,n){try{window.postMessage(n,"*")}catch(e){throw console.log("unserializable data for event",t,":",n),new Error(["The event",t,"on component",this.describe,"was triggered with non-serializable data"].join(" "))}}function c(){this.trigger=function(){var t,e,o,i,r,s=n.toArray(arguments),c=s[s.length-1];"string"==typeof c||c&&c.defaultBehavior||(o=s.pop()),t=2==s.length?$(s.shift()):this.$node,i=s[0],i.defaultBehavior&&(r=i.defaultBehavior,i=$.Event(i.type)),e=i.type||i,window.DEBUG&&window.postMessage&&a.call(this,e,o),"object"==typeof this.attr.eventData&&(o=$.extend(!0,{},this.attr.eventData,o));var u=t.trigger(i||e,o);return r&&!i.isDefaultPrevented()&&(this[r]||r).call(this),u},this.on=function(){var t,e,o,i,r=n.toArray(arguments);if(i="object"==typeof r[r.length-1]?n.delegate(this.resolveDelegateRules(r.pop())):r.pop(),t=2==r.length?$(r.shift()):this.$node,e=r[0],"function"!=typeof i&&"object"!=typeof i)throw new Error("Unable to bind to '"+e+"' because the given callback is not a function or an object");return o=i.bind(this),o.target=i,i.guid&&(o.guid=i.guid),t.on(e,o),i.guid=o.guid,o},this.off=function(){var t,e,o,i=n.toArray(arguments);return"function"==typeof i[i.length-1]&&(o=i.pop()),t=2==i.length?$(i.shift()):this.$node,e=i[0],t.off(e,o)},this.resolveDelegateRules=function(t){var n={};return Object.keys(t).forEach(function(e){if(!this.attr.hasOwnProperty(e))throw new Error('Component "'+this.describe+'" wants to listen on "'+e+'" but no such attribute was defined.');n[this.attr[e]]=t[e]},this),n},this.defaultAttrs=function(t){n.push(this.defaults,t,!0)||(this.defaults=t)},this.select=function(t){return this.$node.find(this.attr[t])},this.initialize=$.noop,this.teardown=r}function u(t){if(!t)throw new Error("Component needs to be attachTo'd a jQuery object, native node or selector string");var e=n.merge.apply(n,n.toArray(arguments,1));$(t).each(function(t,n){new this(n,e)}.bind(this))}function f(){function i(t,e){var o={},i=0;if(!t)throw new Error("Component needs a node");t.jquery?(this.node=t[0],this.$node=t):(this.node=t,this.$node=$(t)),this.describe=this.constructor.describe,this.bind=function(t){var e;if(t.uuid&&(e=o[t.uuid]))return e;var r=n.toArray(arguments,1);return r.unshift(this),e=t.bind.apply(t,r),e.target=t,t.uuid=i++,o[t.uuid]=e,e},this.attr=n.merge(this.defaults,e),this.defaults&&Object.keys(this.defaults).forEach(function(t){if(null===this.defaults[t]&&null===this.attr[t])throw new Error('Required attribute "'+t+'" not specified in attachTo for component "'+this.describe+'".')},this),this.initialize.call(this,e||{}),this.trigger("componentInitialized")}var r=n.toArray(arguments);return i.toString=function(){var t=r.map(function(t){if($.browser.msie){var n=t.toString().match(l);return n&&n[1]?n[1]:""}return t.name}).join(", ").replace(h,"");return t},i.describe=i.toString(),i.attachTo=u,i.teardownAll=s,r.unshift(c,t.withAdvice,o.withRegistration),e.mixin(i.prototype,r),i}var l=/function (.*?)\s?\(/,h=/\s\,/g;return f.teardownAll=function(){o.components.slice().forEach(function(t){t.component.teardownAll()}),o.reset()},f}.apply(null,o),!(void 0!==i&&(t.exports=i))},function(t,n,e){var o,i;o=[e(6),e(7)],i=function(t,n){function e(t,n){if(r){var e=Object.create(null);Object.keys(t).forEach(function(o){if(s.indexOf(o)<0){var i=Object.getOwnPropertyDescriptor(t,o);i.writable=n,e[o]=i}}),Object.defineProperties(t,e)}}function o(t,n,e){var o;return r&&t.hasOwnProperty(n)?(o=Object.getOwnPropertyDescriptor(t,n).writable,Object.defineProperty(t,n,{writable:!0}),e.call(t),void Object.defineProperty(t,n,{writable:o})):void e.call(t)}function i(t,n){t.mixedIn=t.hasOwnProperty("mixedIn")?t.mixedIn:[],n.forEach(function(n){-1==t.mixedIn.indexOf(n)&&(e(t,!1),n.call(t),t.mixedIn.push(n))}),e(t,!0)}var r=n.enabled&&!t.isEnumerable(Object,"getOwnPropertyDescriptor"),s=["mixedIn"];if(r)try{Object.getOwnPropertyDescriptor(Object,"keys")}catch(a){r=!1}return{mixin:i,unlockProperty:o}}.apply(null,o),!(void 0!==i&&(t.exports=i))},function(t,n,e){var o,i;o=[e(3),e(6)],i=function(t,n){function e(t){var n=t.tagName?t.tagName.toLowerCase():t.toString(),e=t.className?"."+t.className:"",o=n+e;return t.tagName?["'","'"].join(o):o}function o(t,n,o){var i,s,a,c,u,f,l,h;"function"==typeof o[o.length-1]&&(a=o.pop(),a=a.unbound||a),"object"==typeof o[o.length-1]&&o.pop(),2==o.length?(s=o[0],i=o[1]):(s=n.$node[0],i=o[0]),window.DEBUG&&(u=DEBUG.events.logFilter,l="all"==u.actions||u.actions.indexOf(t)>-1,f=function(t){return t.test?t:new RegExp("^"+t.replace(/\*/g,".*")+"$")},h="all"==u.eventNames||u.eventNames.some(function(t){return f(t).test(i)}),l&&h&&console.info(r[t],t,"["+i+"]",e(s),n.constructor.describe,a&&(c=a.name||a.displayName)&&"->  "+c))}function i(){this.before("trigger",function(){o("trigger",this,n.toArray(arguments))}),this.before("on",function(){o("on",this,n.toArray(arguments))}),this.before("off",function(){o("off",this,n.toArray(arguments))})}var r={on:"<-",trigger:"->",off:"x "};return i}.apply(null,o),!(void 0!==i&&(t.exports=i))},function(t,n,e){var o,i;o=[e(6)],i=function(t){function n(n,e){var o,i,r;return e=t.toArray(e),"function"==typeof e[e.length-1]&&(r=e.pop()),"object"==typeof e[e.length-1]&&e.pop(),2==e.length?(o=e[0],i=e[1]):(o=n.node,i=e[0]),{element:o,type:i,callback:r}}function e(t,n){return t.element==n.element&&t.type==n.type&&(null==n.callback||t.callback==n.callback)}function o(){function o(t){this.component=t,this.instances=[],this.addInstance=function(t){this.throwIfInstanceExistsOnNode(t);var n=new i(t);return this.instances.push(n),n},this.throwIfInstanceExistsOnNode=function(t){this.instances.forEach(function(n){if(n.instance.$node[0]===t.$node[0])throw new Error("Instance of "+t.constructor+" already exists on node "+t.$node[0])})},this.removeInstance=function(t){var n=this.instances.filter(function(n){return n.instance==t})[0],e=this.instances.indexOf(n);e>-1&&this.instances.splice(e,1),this.instances.length||r.removeComponentInfo(this)}}function i(t){this.instance=t,this.events=[],this.addTrigger=function(){},this.addBind=function(t){this.events.push(t),r.events.push(t)},this.removeBind=function(t){for(var n,o=0;n=this.events[o];o++)e(n,t)&&this.events.splice(o,1)}}var r=this;(this.reset=function(){this.components=[],this.allInstances=[],this.events=[]}).call(this),this.addInstance=function(t){var n=this.findComponentInfo(t);n||(n=new o(t.constructor),this.components.push(n));var e=n.addInstance(t);return this.allInstances.push(e),n},this.removeInstance=function(t){var n,e=this.findInstanceInfo(t),o=this.findComponentInfo(t);o.removeInstance(t);var n=this.allInstances.indexOf(e);n>-1&&this.allInstances.splice(n,1)},this.removeComponentInfo=function(t){var n=this.components.indexOf(t);n>-1&&this.components.splice(n,1)},this.findComponentInfo=function(t){for(var n,e=t.attachTo?t:t.constructor,o=0;n=this.components[o];o++)if(n.component===e)return n;return null},this.findInstanceInfo=function(t){var n;n=t.node?function(n){return n.instance===t}:function(n){return n.instance.node===t};var e=this.allInstances.filter(n);return e.length?t.node?e[0]:e:t.node?null:[]},this.trigger=function(){var t=n(this,arguments),e=r.findInstanceInfo(this);e&&e.addTrigger(t)},this.on=function(e){var o,i=t.toArray(arguments,1),s=r.findInstanceInfo(this);if(s){o=e.apply(null,i),o&&(i[i.length-1]=o);var a=n(this,i);s.addBind(a)}},this.off=function(){var t=n(this,arguments),e=r.findInstanceInfo(this);e&&e.removeBind(t)},this.teardown=function(){r.removeInstance(this)},this.withRegistration=function(){this.before("initialize",function(){r.addInstance(this)}),this.after("trigger",r.trigger),this.around("on",r.on),this.after("off",r.off),this.after("teardown",{obj:r,fnName:"teardown"})}}return new o}.apply(null,o),!(void 0!==i&&(t.exports=i))},function(t){var n,e;n=[],e=function(){var t=[],n=100,e={isDomObj:function(t){return!(!t.nodeType&&t!==window)},toArray:function(n,e){return t.slice.call(n,e)},merge:function(){var t=this.toArray(arguments);return t.unshift({}),t[t.length-1]===!0&&(t.pop(),t.unshift(!0)),$.extend.apply(void 0,t)},push:function(t,n,e){return t&&Object.keys(n||{}).forEach(function(o){if(t[o]&&e)throw Error("utils.push attempted to overwrite '"+o+"' while running in protected mode");"object"==typeof t[o]&&"object"==typeof n[o]?this.push(t[o],n[o]):t[o]=n[o]},this),t},isEnumerable:function(t,n){return Object.keys(t).indexOf(n)>-1},compose:function(){var t=arguments;return function(){for(var n=arguments,e=t.length-1;e>=0;e--)n=[t[e].apply(this,n)];return n[0]}},uniqueArray:function(t){for(var n={},e=[],o=0,i=t.length;i>o;++o)n.hasOwnProperty(t[o])||(e.push(t[o]),n[t[o]]=1);return e},debounce:function(t,e,o){"number"!=typeof e&&(e=n);var i,r;return function(){var n=this,s=arguments,a=function(){i=null,o||(r=t.apply(n,s))},c=o&&!i;return clearTimeout(i),i=setTimeout(a,e),c&&(r=t.apply(n,s)),r}},throttle:function(t,e){"number"!=typeof e&&(e=n);var o,i,r,s,a,c,u=this.debounce(function(){a=s=!1},e);return function(){o=this,i=arguments;var n=function(){r=null,a&&(c=t.apply(o,i)),u()};return r||(r=setTimeout(n,e)),s?a=!0:(s=!0,c=t.apply(o,i)),u(),c}},countThen:function(t,n){return function(){return--t?void 0:n.apply(this,arguments)}},delegate:function(t){return function(n,e){var o,i=$(n.target);Object.keys(t).forEach(function(r){return(o=i.closest(r)).length?(e=e||{},e.el=o[0],t[r].apply(this,[n,e])):void 0},this)}}};return e}.apply(null,n),!(void 0!==e&&(t.exports=e))},function(t,n,e){var o,i;o=[e(5),e(6)],i=function(){function t(n,e,o){var o=o||{},i=o.obj||window,r=o.path||(i==window?"window":""),s=Object.keys(i);s.forEach(function(o){(p[n]||n)(e,i,o)&&console.log([r,".",o].join(""),"->",["(",typeof i[o],")"].join(""),i[o]),"[object Object]"==Object.prototype.toString.call(i[o])&&i[o]!=i&&-1==r.split(".").indexOf(o)&&t(n,e,{obj:i[o],path:[r,o].join(".")})})}function n(n,e,o,i){e&&typeof o!=e?console.error([o,"must be",e].join(" ")):t(n,o,i)}function e(t,e){n("name","string",t,e)}function o(t,e){n("nameContains","string",t,e)}function i(t,e){n("type","function",t,e)}function r(t,e){n("value",null,t,e)}function s(t,e){n("valueCoerced",null,t,e)}function a(n,e){t(n,null,e)}function c(){var t=[].slice.call(arguments,0);h.eventNames.length||(h.eventNames="all"),h.actions=t.length?t:"all"}function u(){var t=[].slice.call(arguments,0);h.actions.length||(h.actions="all"),h.eventNames=t.length?t:"all"}function f(){h.actions=[],h.eventNames=[]}function l(){h.actions="all",h.eventNames="all"}var h,p={name:function(t,n,e){return t==e},nameContains:function(t,n,e){return e.indexOf(t)>-1},type:function(t,n,e){return n[e]instanceof t},value:function(t,n,e){return n[e]===t},valueCoerced:function(t,n,e){return n[e]==t}},d="all";return h={actions:d,eventNames:d},{enable:function(t){this.enabled=!!t,t&&window.console&&(console.info("Booting in DEBUG mode"),console.info("You can filter event logging with DEBUG.events.logAll/logNone/logByName/logByAction")),window.DEBUG=this},find:{byName:e,byNameContains:o,byType:i,byValue:r,byValueCoerced:s,custom:a},events:{logFilter:h,logByAction:c,logByName:u,logAll:l,logNone:f}}}.apply(null,o),!(void 0!==i&&(t.exports=i))}])});