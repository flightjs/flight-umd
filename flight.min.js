/*! Flight v1.0.5 | (c) Twitter, Inc. | MIT License */
!function(n,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):"object"==typeof exports?exports.flight=t():n.flight=t()}(this,function(){return function(n){function t(o){if(e[o])return e[o].exports;var i=e[o]={exports:{},id:o,loaded:!1};return n[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var e={};return t.m=n,t.c=e,t.p="",t(0)}([function(n,t,e){var o,i;o=[e(1),e(2),e(3),e(4),e(5),e(6)],i=function(n,t,e,o,i,r){return{advice:n,component:t,compose:e,logger:o,registry:i,utils:r}}.apply(null,o),!(void 0!==i&&(n.exports=i))},function(n,t,e){var o,i;o=[e(6),e(3)],i=function(n,t){var e={around:function(n,t){return function(){var e=0,o=arguments.length,i=new Array(o+1);for(i[0]=n.bind(this);o>e;e++)i[e+1]=arguments[e];return t.apply(this,i)}},before:function(n,t){var e="function"==typeof t?t:t.obj[t.fnName];return function(){return e.apply(this,arguments),n.apply(this,arguments)}},after:function(n,t){var e="function"==typeof t?t:t.obj[t.fnName];return function(){var t=(n.unbound||n).apply(this,arguments);return e.apply(this,arguments),t}},withAdvice:function(){["before","after","around"].forEach(function(n){this[n]=function(o,i){t.unlockProperty(this,o,function(){return this[o]="function"==typeof this[o]?e[n](this[o],i):i})}},this)}};return e}.apply(null,o),!(void 0!==i&&(n.exports=i))},function(n,t,e){var o,i;o=[e(1),e(6),e(3),e(5)],i=function(n,t,e,o){function i(n){n.events.slice().forEach(function(n){var t=[n.type];n.element&&t.unshift(n.element),"function"==typeof n.callback&&t.push(n.callback),this.off.apply(this,t)},n.instance)}function r(){i(o.findInstanceInfo(this))}function s(){var n=o.findComponentInfo(this);n&&n.instances.slice().forEach(function(n){n.instance.teardown()})}function a(n,t){try{window.postMessage(t,"*")}catch(e){throw console.log("unserializable data for event",n,":",t),new Error(["The event",n,"on component",this.toString(),"was triggered with non-serializable data"].join(" "))}}function u(){this.trigger=function(){var n,t,e,o,i,r=arguments.length-1,s=arguments[r];return"string"==typeof s||s&&s.defaultBehavior||(r--,e=s),1==r?(n=$(arguments[0]),o=arguments[1]):(n=this.$node,o=arguments[0]),o.defaultBehavior&&(i=o.defaultBehavior,o=$.Event(o.type)),t=o.type||o,window.DEBUG&&window.DEBUG.enabled&&window.postMessage&&a.call(this,t,e),"object"==typeof this.attr.eventData&&(e=$.extend(!0,{},this.attr.eventData,e)),n.trigger(o||t,e),i&&!o.isDefaultPrevented()&&(this[i]||i).call(this),n},this.on=function(){var n,e,o,i,r=arguments.length-1,s=arguments[r];if(i="object"==typeof s?t.delegate(this.resolveDelegateRules(s)):s,2==r?(n=$(arguments[0]),e=arguments[1]):(n=this.$node,e=arguments[0]),"function"!=typeof i&&"object"!=typeof i)throw new Error("Unable to bind to '"+e+"' because the given callback is not a function or an object");return o=i.bind(this),o.target=i,i.guid&&(o.guid=i.guid),n.on(e,o),i.guid=o.guid,o},this.off=function(){var n,t,e,o=arguments.length-1;return"function"==typeof arguments[o]&&(e=arguments[o],o-=1),1==o?(n=$(arguments[0]),t=arguments[1]):(n=this.$node,t=arguments[0]),n.off(t,e)},this.resolveDelegateRules=function(n){var t={};return Object.keys(n).forEach(function(e){if(!e in this.attr)throw new Error('Component "'+this.toString()+'" wants to listen on "'+e+'" but no such attribute was defined.');t[this.attr[e]]=n[e]},this),t},this.defaultAttrs=function(n){t.push(this.defaults,n,!0)||(this.defaults=n)},this.select=function(n){return this.$node.find(this.attr[n])},this.initialize=$.noop,this.teardown=r}function c(n){for(var e=arguments.length,o=new Array(e-1),i=1;e>i;i++)o[i-1]=arguments[i];if(!n)throw new Error("Component needs to be attachTo'd a jQuery object, native node or selector string");var r=t.merge.apply(t,o);$(n).each(function(n,t){new this(t,r)}.bind(this))}function f(){function t(n,e){if(e=e||{},this.identity=h++,!n)throw new Error("Component needs a node");n.jquery?(this.node=n[0],this.$node=n):(this.node=n,this.$node=$(n)),this.toString=t.toString,window.DEBUG&&window.DEBUG.enabled&&(this.describe=t.toString());var o=Object.create(e);for(var i in this.defaults)e.hasOwnProperty(i)||(o[i]=this.defaults[i]);this.attr=o,Object.keys(this.defaults||{}).forEach(function(n){if(null===this.defaults[n]&&null===this.attr[n])throw new Error('Required attribute "'+n+'" not specified in attachTo for component "'+this.toString()+'".')},this),this.initialize.call(this,e)}for(var i=arguments.length,r=new Array(i),a=0;i>a;a++)r[a]=arguments[a];return t.toString=function(){var n=r.map(function(n){if(null==n.name){var t=n.toString().match(l);return t&&t[1]?t[1]:""}return"withBaseComponent"!=n.name?n.name:""}).filter(Boolean).join(", ");return n},t.attachTo=c,t.teardownAll=s,r.unshift(u,n.withAdvice,o.withRegistration),e.mixin(t.prototype,r),t}var l=/function (.*?)\s?\(/,h=0;return f.teardownAll=function(){o.components.slice().forEach(function(n){n.component.teardownAll()}),o.reset()},f}.apply(null,o),!(void 0!==i&&(n.exports=i))},function(n,t,e){var o,i;o=[e(6),e(7)],i=function(n,t){function e(n,t){if(r){var e=Object.create(null);Object.keys(n).forEach(function(o){if(s.indexOf(o)<0){var i=Object.getOwnPropertyDescriptor(n,o);i.writable=t,e[o]=i}}),Object.defineProperties(n,e)}}function o(n,t,e){var o;return r&&n.hasOwnProperty(t)?(o=Object.getOwnPropertyDescriptor(n,t).writable,Object.defineProperty(n,t,{writable:!0}),e.call(n),void Object.defineProperty(n,t,{writable:o})):void e.call(n)}function i(n,t){n.mixedIn=n.hasOwnProperty("mixedIn")?n.mixedIn:[],t.forEach(function(t){-1==n.mixedIn.indexOf(t)&&(e(n,!1),t.call(n),n.mixedIn.push(t))}),e(n,!0)}var r=t.enabled&&!n.isEnumerable(Object,"getOwnPropertyDescriptor"),s=["mixedIn"];if(r)try{Object.getOwnPropertyDescriptor(Object,"keys")}catch(a){r=!1}return{mixin:i,unlockProperty:o}}.apply(null,o),!(void 0!==i&&(n.exports=i))},function(n,t,e){var o,i;o=[e(3),e(6)],i=function(n,t){function e(n){var t=n.tagName?n.tagName.toLowerCase():n.toString(),e=n.className?"."+n.className:"",o=t+e;return n.tagName?["'","'"].join(o):o}function o(n,t,o){var i,s,a,u,c,f,l,h;"function"==typeof o[o.length-1]&&(a=o.pop(),a=a.unbound||a),"object"==typeof o[o.length-1]&&o.pop(),2==o.length?(s=o[0],i=o[1]):(s=t.$node[0],i=o[0]),window.DEBUG&&window.DEBUG.enabled&&(c=DEBUG.events.logFilter,l="all"==c.actions||c.actions.indexOf(n)>-1,f=function(n){return n.test?n:new RegExp("^"+n.replace(/\*/g,".*")+"$")},h="all"==c.eventNames||c.eventNames.some(function(n){return f(n).test(i)}),l&&h&&console.info(r[n],n,"["+i+"]",e(s),t.constructor.toString(),a&&(u=a.name||a.displayName)&&"->  "+u))}function i(){this.before("trigger",function(){o("trigger",this,t.toArray(arguments))}),this.before("on",function(){o("on",this,t.toArray(arguments))}),this.before("off",function(){o("off",this,t.toArray(arguments))})}var r={on:"<-",trigger:"->",off:"x "};return i}.apply(null,o),!(void 0!==i&&(n.exports=i))},function(n,t,e){var o,i;o=[e(6)],i=function(){function n(n,t){var e,o,i,r=t.length;return"function"==typeof t[r-1]&&(r-=1,i=t[r]),"object"==typeof t[r-1]&&(r-=1),2==r?(e=t[0],o=t[1]):(e=n.node,o=t[0]),{element:e,type:o,callback:i}}function t(n,t){return n.element==t.element&&n.type==t.type&&(null==t.callback||n.callback==t.callback)}function e(){function e(n){this.component=n,this.instances=[],this.addInstance=function(n){this.throwIfInstanceExistsOnNode(n);var t=new o(n);return this.instances.push(t),t},this.throwIfInstanceExistsOnNode=function(n){this.instances.forEach(function(t){if(t.instance.$node[0]===n.$node[0])throw new Error("Instance of "+n.constructor+" already exists on node "+n.$node[0])})},this.removeInstance=function(n){var t=this.instances.filter(function(t){return t.instance==n})[0],e=this.instances.indexOf(t);e>-1&&this.instances.splice(e,1),this.instances.length||i.removeComponentInfo(this)}}function o(n){this.instance=n,this.events=[],this.addBind=function(n){this.events.push(n),i.events.push(n)},this.removeBind=function(n){for(var e,o=0;e=this.events[o];o++)t(e,n)&&this.events.splice(o,1)}}var i=this;(this.reset=function(){this.components=[],this.allInstances={},this.events=[]}).call(this),this.addInstance=function(n){var t=this.findComponentInfo(n);t||(t=new e(n.constructor),this.components.push(t));var o=t.addInstance(n);return this.allInstances[n.identity]=o,t},this.removeInstance=function(n){var t=(this.findInstanceInfo(n),this.findComponentInfo(n));t.removeInstance(n),delete this.allInstances[n.identity]},this.removeComponentInfo=function(n){var t=this.components.indexOf(n);t>-1&&this.components.splice(t,1)},this.findComponentInfo=function(n){for(var t,e=n.attachTo?n:n.constructor,o=0;t=this.components[o];o++)if(t.component===e)return t;return null},this.findInstanceInfo=function(n){return this.allInstances[n.identity]||null},this.findInstanceInfoByNode=function(n){var t=[];return Object.keys(this.allInstances).forEach(function(e){var o=this.allInstances[e];o.instance.node===n&&t.push(o)},this),t},this.on=function(t){for(var e,o=i.findInstanceInfo(this),r=arguments.length,s=1,a=new Array(r-1);r>s;s++)a[s-1]=arguments[s];if(o){e=t.apply(null,a),e&&(a[a.length-1]=e);var u=n(this,a);o.addBind(u)}},this.off=function(){var t=n(this,arguments),e=i.findInstanceInfo(this);e&&e.removeBind(t)},this.teardown=function(){i.removeInstance(this)},this.withRegistration=function(){this.before("initialize",function(){i.addInstance(this)}),this.around("on",i.on),this.after("off",i.off),this.after("teardown",{obj:i,fnName:"teardown"})}}return new e}.apply(null,o),!(void 0!==i&&(n.exports=i))},function(n){var t,e;t=[],e=function(){var n=[],t=100,e={isDomObj:function(n){return!(!n.nodeType&&n!==window)},toArray:function(t,e){return n.slice.call(t,e)},merge:function(){for(var n=arguments.length,t=0,e=new Array(n+1);n>t;t++)e[t+1]=arguments[t];return 0===n?{}:(e[0]={},e[e.length-1]===!0&&(e.pop(),e.unshift(!0)),$.extend.apply(void 0,e))},push:function(n,t,e){return n&&Object.keys(t||{}).forEach(function(o){if(n[o]&&e)throw Error("utils.push attempted to overwrite '"+o+"' while running in protected mode");"object"==typeof n[o]&&"object"==typeof t[o]?this.push(n[o],t[o]):n[o]=t[o]},this),n},isEnumerable:function(n,t){return Object.keys(n).indexOf(t)>-1},compose:function(){var n=arguments;return function(){for(var t=arguments,e=n.length-1;e>=0;e--)t=[n[e].apply(this,t)];return t[0]}},uniqueArray:function(n){for(var t={},e=[],o=0,i=n.length;i>o;++o)t.hasOwnProperty(n[o])||(e.push(n[o]),t[n[o]]=1);return e},debounce:function(n,e,o){"number"!=typeof e&&(e=t);var i,r;return function(){var t=this,s=arguments,a=function(){i=null,o||(r=n.apply(t,s))},u=o&&!i;return clearTimeout(i),i=setTimeout(a,e),u&&(r=n.apply(t,s)),r}},throttle:function(n,e){"number"!=typeof e&&(e=t);var o,i,r,s,a,u,c=this.debounce(function(){a=s=!1},e);return function(){o=this,i=arguments;var t=function(){r=null,a&&(u=n.apply(o,i)),c()};return r||(r=setTimeout(t,e)),s?a=!0:(s=!0,u=n.apply(o,i)),c(),u}},countThen:function(n,t){return function(){return--n?void 0:t.apply(this,arguments)}},delegate:function(n){return function(t,e){var o,i=$(t.target);Object.keys(n).forEach(function(r){return(o=i.closest(r)).length?(e=e||{},e.el=o[0],n[r].apply(this,[t,e])):void 0},this)}}};return e}.apply(null,t),!(void 0!==e&&(n.exports=e))},function(n,t,e){var o,i;o=[e(5),e(6)],i=function(){function n(t,e,o){var o=o||{},i=o.obj||window,r=o.path||(i==window?"window":""),s=Object.keys(i);s.forEach(function(o){(p[t]||t)(e,i,o)&&console.log([r,".",o].join(""),"->",["(",typeof i[o],")"].join(""),i[o]),"[object Object]"==Object.prototype.toString.call(i[o])&&i[o]!=i&&-1==r.split(".").indexOf(o)&&n(t,e,{obj:i[o],path:[r,o].join(".")})})}function t(t,e,o,i){e&&typeof o!=e?console.error([o,"must be",e].join(" ")):n(t,o,i)}function e(n,e){t("name","string",n,e)}function o(n,e){t("nameContains","string",n,e)}function i(n,e){t("type","function",n,e)}function r(n,e){t("value",null,n,e)}function s(n,e){t("valueCoerced",null,n,e)}function a(t,e){n(t,null,e)}function u(){var n=[].slice.call(arguments,0);h.eventNames.length||(h.eventNames="all"),h.actions=n.length?n:"all"}function c(){var n=[].slice.call(arguments,0);h.actions.length||(h.actions="all"),h.eventNames=n.length?n:"all"}function f(){h.actions=[],h.eventNames=[]}function l(){h.actions="all",h.eventNames="all"}var h,p={name:function(n,t,e){return n==e},nameContains:function(n,t,e){return e.indexOf(n)>-1},type:function(n,t,e){return t[e]instanceof n},value:function(n,t,e){return t[e]===n},valueCoerced:function(n,t,e){return t[e]==n}},d=[];return h={actions:d,eventNames:d},{enable:function(n){this.enabled=!!n,n&&window.console&&(console.info("Booting in DEBUG mode"),console.info("You can configure event logging with DEBUG.events.logAll()/logNone()/logByName()/logByAction()")),window.DEBUG=this},find:{byName:e,byNameContains:o,byType:i,byValue:r,byValueCoerced:s,custom:a},events:{logFilter:h,logByAction:u,logByName:c,logAll:l,logNone:f}}}.apply(null,o),!(void 0!==i&&(n.exports=i))}])});